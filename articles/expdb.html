<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Storage and Analysis of Agricultural Experiments • expDB</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Storage and Analysis of Agricultural Experiments">
<meta property="og:description" content="expDB">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">expDB</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/expdb.html">Storage and Analysis of Agricultural Experiments</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/byzheng/expDB/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="expdb_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Storage and Analysis of Agricultural Experiments</h1>
                        <h4 class="author">Bangyou Zheng</h4>
            
            <h4 class="date">2020-08-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/byzheng/expDB/blob/master/vignettes/expdb.Rmd"><code>vignettes/expdb.Rmd</code></a></small>
      <div class="hidden name"><code>expdb.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>Many researchers are using different methods to store their observed data. It is very hard to organize and reuse experiment-based data from several resources. expDB is designed to efficiently manage experiment-based data. expDB try to standardize the process of experiment-based data, and provide APIs to import and access experiment-based data.</p>
</div>
<div id="database-design" class="section level1">
<h1 class="hasAnchor">
<a href="#database-design" class="anchor"></a>Database design</h1>
<p>A <a href="http://www.sqlite.org">SQLite</a> database is used to store all information of experiment-based data.</p>
<ul>
<li><p>Researchers collect the basic information about researchers, e.g. name, email, etc.</p></li>
<li><p>ApSoils specify the soil name in the ApSoils which distribute with <a href="http://www.apsim.info">APSIM</a>.</p></li>
<li><p>Sites collect the basic information about experiment fields, e.g. name, latitude, longitude, soil, etc. The soil must be the same in the table ApSoils.</p></li>
<li><p>Met specify the information about weather records, e.g. type and filename. The valid met types include “daily” and “hourly”.</p></li>
<li><p>Genotypes collect genotype name and other information.</p></li>
<li><p>Traits collect all information about traits, e.g. name, type, label, unit and description. There aren’t limitation of trait names and types. But we normally use crop and soil as trait types.</p></li>
<li><p>Trials collect basic information about trials, e.g. year, site, trial code (trialcode), sowing, density, depth, row spacing (rowspacing) and researcher and met. Trial code must be unique for expDB. Site should come from table Sites.</p></li>
<li><p>Design specify the design of each plot, e.g. year, trialcode, site, row (range), column (plot), replicate, block, treatment, genotype, etc. Each plot specifies by year, site, row, column which must be unique. The trialcode is from table Trials, site from table Sites, and genotype from table Genotypes.</p></li>
<li><p>TrialSoils collect the soil information to some trials, e.g. trial code, bulk density, no3-n, nh4-n, etc.</p></li>
<li><p>Irrigation collect the irrigation information to some trials, e.g. date, amount, etc.</p></li>
<li><p>Fertilization collect the fertilization information to some trials, e.g. date, fertilizer, amount, etc.</p></li>
</ul>
</div>
<div id="dependence" class="section level1">
<h1 class="hasAnchor">
<a href="#dependence" class="anchor"></a>Dependence</h1>
<p>expDB DO NOT check dependence of other R packages. It may require <a href="http://cran.r-project.org/web/packages/RSQLite/">RSQLite</a>, <a href="https://cran.r-project.org/web/packages/readxl/index.html">readxl</a>, etc. which depends on functions.</p>
</div>
<div id="import-data" class="section level1">
<h1 class="hasAnchor">
<a href="#import-data" class="anchor"></a>Import data</h1>
<p>The experiment-based data can be imported from a excel file which supports by <a href="https://cran.r-project.org/web/packages/readxl/index.html">readxl</a> package. expDB is case-insensitive. The Australia style should be used for all date related fields (dd/mm/yyyy).</p>
</div>
<div id="traits" class="section level1">
<h1 class="hasAnchor">
<a href="#traits" class="anchor"></a>Traits</h1>
<p>The processes of plant growth and development can be classified into several hierarchical levels, e.g. biosphere, ecosystem or cropping system, field or plot, whole plant, plant organ, cell, molecule, atom, and subatomic particle (Hodges 1991). We could collect data from field, plant, organ in an agricultural experiment. The values in the higher levels can be derived from lower levels. In most cases, we don’t directly record data in levels above, but through specific protocol. These observations are used to derive values in other levels. For example, population is converted from the establishment counts; dry weights of leaves, stems, and heads are converted from quadrat harvest. An extra level, measurement is added into the convention.</p>
<table class="table">
<thead><tr class="header">
<th>Levels</th>
<th>Prefix</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Field</td>
<td>F_</td>
<td>F_StemNumber</td>
</tr>
<tr class="even">
<td>Plant</td>
<td>P_</td>
<td>P_StemNumber</td>
</tr>
<tr class="odd">
<td>Organ</td>
<td>O_</td>
<td>O_LeafArea</td>
</tr>
<tr class="even">
<td>Measurement</td>
<td>M_</td>
<td>M_DryWeightGreenLeaf</td>
</tr>
</tbody>
</table>
<p>A list of traits are provided in the released version of expDB.</p>
</div>
<div id="extraction-of-observations-from-datasets" class="section level1">
<h1 class="hasAnchor">
<a href="#extraction-of-observations-from-datasets" class="anchor"></a>Extraction of observations from datasets</h1>
<p>The low level function <code>dbGetPhenotype</code> is provided to extract the raw observations from database. Some traits can be observed or calculated from other traits.</p>
<div id="population" class="section level2">
<h2 class="hasAnchor">
<a href="#population" class="anchor"></a>Population</h2>
<p>The plant population (<code>F_Population</code>) is defined as the number of plants in unit area. <code>F_Population</code> is retrived from database, then calculated from measurement establishment count (<code>M_EstablishmentCount</code>) and row spacing (<code>RowSpacing</code>). The density is assumed to equal to population if none of above traits are specified in the database.</p>
</div>
<div id="final-leaf-number" class="section level2">
<h2 class="hasAnchor">
<a href="#final-leaf-number" class="anchor"></a>Final leaf number</h2>
<p>Final leaf number (<code>O_FinalLeafNumber</code>) is defined as the total completed leaf number of a fertile stem after head emergence (main stem and tillers). <code>O_FinalLeafNumber</code> is retrived from database, then calculated from Haun Index. Huan Index is assumed the full expanded flag leaf is recorded. Consequently the maximum integer value in the observations is treated as the <code>O_FinalLeafNumber</code>.</p>
</div>
<div id="stemtiller-numbers-for-field-and-plant" class="section level2">
<h2 class="hasAnchor">
<a href="#stemtiller-numbers-for-field-and-plant" class="anchor"></a>Stem/tiller numbers for field and plant</h2>
<p>The stem/tiller numbers are defined as the number stems/tillers per unit area and per plant. The relationships among 4 traits are as follows.</p>
<p><span class="math display">\[P\_StemNumber = P\_TillerNumber + 1\]</span> <span class="math display">\[F\_StemNumber = P\_StemNumber \times F\_Population\]</span> <span class="math display">\[F\_TillerNumber = P\_TillerNumber \times F\_Population\]</span> <span class="math display">\[F\_StemNumber = (P\_TillerNumber + 1) \times F\_Population\]</span></p>
<p>The stem/tiller numbers are retrived from observations, then calculated by other traits.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Bangyou Zheng.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
